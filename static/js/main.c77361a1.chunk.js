(this["webpackJsonpstake-trading-journal"]=this["webpackJsonpstake-trading-journal"]||[]).push([[0],{43:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(34),s=r.n(c),i=r(15),o=(r(43),r(5)),l=r(3),u=r.n(l),d=r(8),f=r(4),j=r(20),b=r(36),m=r(21),h=r.n(m),x=r(2),O=r(7),p=r(73),v=r(72),g=function(e,t){var r=t.split(" ").reduce((function(e,t){var r=t.split("-").slice(0,-1).join("-");return""!==r&&e.push(r),e}),[]),n=e.split(" ").filter((function(e){return!r.some((function(t){return e.startsWith(t)}))})).join(" ");return"".concat(n," ").concat(t)};var y=r(1),w=function(e){var t=e.title,r=void 0===t?null:t,n=e.icon,a=void 0===n?null:n,c=e.className,s=void 0===c?"":c,i=e.closeButtonClassName,o=void 0===i?"":i,l=e.dismissable,u=void 0!==l&&l,d=e.onDismiss,f=void 0===d?null:d,j=e.message;return Object(y.jsxs)("div",{className:g("relative flex items-center rounded-lg py-2 px-4",s),role:"alert",children:[u&&f&&Object(y.jsx)("button",{className:g("absolute top-0 right-0 rounded-full p-1 m-1 transform ease-in-out duration-300",o),type:"button",title:"Close",onClick:function(){return f()},children:Object(y.jsx)(v.a,{className:"w-4 h-4"})}),a&&Object(y.jsx)("div",{className:"mr-4 flex-shrink-0",style:{width:"30px",height:"30px"},children:a}),Object(y.jsxs)("div",{children:[r&&Object(y.jsx)("h3",{className:"font-bold mb-1",children:r}),Object(y.jsx)("p",{children:j})]})]})},N=function(e){var t=e.className,r=void 0===t?"":t,n=Object(O.a)(e,["className"]);return Object(y.jsx)(w,Object(x.a)({className:g("bg-red-200 text-red-900",r),closeButtonClassName:"text-red-900 hover:bg-red-300 focus:bg-red-300",icon:Object(y.jsx)(p.a,{})},n))};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var P=n.createElement("circle",{className:"opacity-25",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:4}),I=n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"});function E(e,t){var r=e.title,a=e.titleId,c=k(e,["title","titleId"]);return n.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",fill:"none",height:24,width:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,P,I)}var R=n.forwardRef(E),T=(r.p,function(e){var t=e.className,r=void 0===t?"":t,n=Object(O.a)(e,["className"]);return Object(y.jsx)(R,Object(x.a)({className:g("animate-spin",r)},n))}),D=function(e){var t=(e||{}).defaultLoading,r=void 0!==t&&t,a=Object(n.useState)(r),c=Object(f.a)(a,2),s=c[0],i=c[1],o=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),r=t[0],a=t[1],c=function(){return a(null)};return{error:function(e){var t=e||{},n=t.className,a=void 0===n?"":n,s=t.dismissable,i=void 0===s||s;return r?Object(y.jsx)(N,{className:a,title:r.title,message:r.message,dismissable:i,onDismiss:c}):null},set:a,clear:c,has:function(){return null!==r}}}(),l=o.error,u=o.set,d=o.clear,j=o.has;return{loading:s,loadingText:function(e){return s?Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)(T,{className:"mr-2"}),Object(y.jsx)("span",{children:e.loading})]}):e.default},setLoading:i,error:l,setError:u,clearError:d,hasError:j}},C=function(e){var t=e.className,r=void 0===t?"":t,n=e.children,a=Object(O.a)(e,["className","children"]);return Object(y.jsx)("h1",Object(x.a)(Object(x.a)({className:g("font-heading font-bold text-5xl text-black",r)},a),{},{children:n}))},L=r(37),M=r(6);var Q=Object(n.forwardRef)((function(e,t){var r=e.className,a=void 0===r?"":r,c=e.id,s=void 0===c?Object(L.a)():c,i=e.error,o=void 0!==i&&i,l=e.debounceOnChange,u=void 0===l?void 0:l,d=e.debounceTimeout,j=void 0===d?500:d,b=e.value,m=e.onChange,h=Object(O.a)(e,["className","id","error","debounceOnChange","debounceTimeout","value","onChange"]),p=Object(n.useState)(void 0===b?"":b),v=Object(f.a)(p,2),w=v[0],N=v[1],S=Object(n.useMemo)((function(){return function(e,t){var r=null,n=0,a=void 0,c=function c(){var s=Date.now()-n;s>t?(e.apply(void 0,Object(M.a)(a)),r=null,n=0,a=void 0):r=window.setTimeout(c,t-s)};return function(){null===r&&(r=window.setTimeout(c,t));for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];a=s,n=Date.now()}}((function(e){u&&u(e)}),j)}),[u,j]);return Object(y.jsx)("input",Object(x.a)({ref:t,id:s,className:g("py-3 px-4 w-full rounded-lg default-transition border-2 focus:border-black ".concat(o?"border-red-500":"border-gray-300"),a),value:u?w:b,onChange:u?function(e){N(e.target.value),S(e.target.value)}:m},h))})),F=Object(n.forwardRef)((function(e,t){var r=e.children,n=e.className,a=void 0===n?"":n,c=e.type,s=void 0===c?"button":c,i=Object(O.a)(e,["children","className","type"]);return Object(y.jsx)("button",Object(x.a)(Object(x.a)({ref:t,type:s,className:g("py-3 px-4 flex items-center justify-center rounded-lg font-bold default-transition",a)},i),{},{children:r}))})),U=Object(n.forwardRef)((function(e,t){var r=e.className,n=void 0===r?"":r,a=Object(O.a)(e,["className"]);return Object(y.jsx)(F,Object(x.a)({ref:t,className:g("bg-black text-white hover:ring-4 hover:ring-gray-200 focus:ring-4 focus:ring-gray-200",n)},a))}));function W(e){return"".concat("https://global-prd-api.hellostake.com/api","/").concat(e)}function A(e,t,r){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(u.a.mark((function e(t,r,n){var a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:r,platformType:"WEB_f5K2x3",rememberMeDays:30},n&&(a.otp=n),e.next=4,fetch(W("sessions/v2/createSession"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:if(!(c=e.sent).ok){e.next=12;break}return e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",{firstName:s.firstName,lastName:s.lastName,regionIdentifier:s.regionIdentifier,sessionKey:s.sessionKey,userID:s.userID,username:s.username});case 12:if(412!==c.status){e.next=16;break}return e.abrupt("return",null);case 16:return e.next=18,c.json();case 18:throw i=e.sent,new Error("Failed to login: ".concat(i.message));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W("userauth/".concat(t.sessionKey)),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,r,n,a,c){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function e(t,r,n,a,c,s){var i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W("users/accounts/accountTransactions"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Stake-Session-Token":t.sessionKey},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({direction:s?"prev":"next",from:r.toISO(),to:n.toISO(),limit:a,offset:c||null})});case 2:if(!(i=e.sent).ok){e.next=10;break}return e.next=6,i.json();case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.next=12,i.json();case 12:throw l=e.sent,new Error("Failed to load transactions: ".concat(l.message));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=h.a.object({email:h.a.string().required().email({tlds:!1}),password:h.a.string().required(),otp:h.a.string()}),z=function(){var e=Object(o.g)(),t=Object(n.useState)(!1),r=Object(f.a)(t,2),a=r[0],c=r[1],s=Object(n.useRef)(null),i=Object(j.c)({criteriaMode:"all",resolver:Object(b.joiResolver)($)}),l=i.register,m=i.errors,h=(i.formState,i.handleSubmit),x=D(),O=x.loading,p=x.loadingText,v=x.setLoading,g=x.error,w=x.setError,N=x.clearError;Object(n.useEffect)((function(){s&&s.current&&s.current.focus()}),[]);var S=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||r.otp){t.next=3;break}return w({title:"MFA Required",message:"You need to supply the verifcation code"}),t.abrupt("return");case 3:return N(),v(!0),t.prev=5,t.next=8,A(r.email,r.password,r.otp?r.otp:void 0);case 8:null===(n=t.sent)?(c(!0),v(!1)):(window.localStorage.setItem("user",JSON.stringify(n)),e.push("/")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),w({title:"Login failed",message:t.t0.message}),v(!1);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"flex flex-col items-center w-screen h-screen pt-20",children:[Object(y.jsx)(C,{children:"Stake trading journal"}),g({className:"mt-4"}),Object(y.jsxs)("form",{className:"mt-12",onSubmit:h(S),style:{width:400},children:[Object(y.jsx)(Q,{ref:function(e){l(e),s.current=e},name:"email",type:"text",error:!!m.email,placeholder:"Email"}),Object(y.jsx)(Q,{ref:l,className:"mt-2",type:"password",name:"password",error:!!m.password,placeholder:"Password"}),a&&Object(y.jsx)(Q,{ref:l,className:"mt-2",name:"otp",error:!!m.password,placeholder:"Verification code"}),Object(y.jsx)(U,{className:"mt-6 w-full text-xl text-white",type:"submit",disabled:O,children:p({loading:"Logging in...",default:"Log in"})})]})]})},H=function(e){var t=e.user,r=Object(o.g)();return Object(n.useEffect)((function(){!function(e){B.apply(this,arguments)}(t),window.localStorage.removeItem("user"),window.localStorage.removeItem("journalData"),window.localStorage.removeItem("journalLastFetchDate"),r.push("/login")}),[]),null},V=r(10),Y=r(17),_=function(e){var t=e.className,r=void 0===t?"":t,n=e.children,a=Object(O.a)(e,["className","children"]);return Object(y.jsx)("h2",Object(x.a)(Object(x.a)({className:g("font-heading font-bold text-4xl text-black",r)},a),{},{children:n}))},G=function(e){var t=e.className,r=void 0===t?"":t,n=e.children,a=Object(O.a)(e,["className","children"]);return Object(y.jsx)("h3",Object(x.a)(Object(x.a)({className:g("font-heading font-bold text-3xl text-black",r)},a),{},{children:n}))},X=function(e){var t=e.className,r=void 0===t?"":t,n=e.children,a=Object(O.a)(e,["className","children"]);return Object(y.jsx)("h4",Object(x.a)(Object(x.a)({className:g("font-heading font-bold text-2xl text-black",r)},a),{},{children:n}))},Z=function(e){var t=e.className,r=void 0===t?"":t,n=Object(O.a)(e,["className"]);return Object(y.jsx)(i.b,Object(x.a)({className:g("font-bold underline default-transition",r)},n))},ee=150;function te(e,t){return e.tranWhen<t.tranWhen?-1:e.tranWhen>t.tranWhen?1:0}function re(e,t){return e.date<t.date?-1:e.date>t.date?1:0}function ne(e,t){var r=e.buys[0].date,n=t.buys[0].date;return r<n?-1:r>n?1:0}function ae(e,t,r){var n=t.slice();return r.forEach((function(t){if("SPUR"===t.finTranTypeID){var r=t.instrument.symbol,a=Y.DateTime.fromISO(t.tranWhen),c=Math.floor(a.diff(e).as("days")),s=n[c];s||(s={symbols:{},profitRaw:0,profitPercent:0,spent:0,earned:0,date:a.startOf("day").toISO()});var i=s.symbols[r];i||(i={instrument:t.instrument,buys:[],sells:[],holdingUnitCount:0,profitRaw:0,profitPercent:0,spent:0,earned:0});var o=i.buys.findIndex((function(e){return e.orderId===t.orderID}));if(o>=0){var l=i.buys[o];i.buys[o]=Object(x.a)(Object(x.a)({},l),{},{unitQuantity:l.unitQuantity+t.fillQty,totalPrice:l.totalPrice+t.tranAmount})}else i.buys=i.buys.concat({orderId:t.orderID,unitPrice:t.fillPx,unitQuantity:t.fillQty,totalPrice:t.tranAmount,date:t.tranWhen});i.holdingUnitCount+=t.fillQty,s.symbols=Object(x.a)(Object(x.a)({},s.symbols),{},Object(V.a)({},r,Object(x.a)({},i))),n[c]=Object(x.a)({},s)}})),n}function ce(e,t){var r=e.slice(),n=[];return t.forEach((function(e){if("SSAL"===e.finTranTypeID){for(var t=e.instrument.symbol,a=e.fillQty,c=0;a>0&&c<r.length;){var s=r[c],i=s?s.symbols[t]:void 0;if(i&&i.holdingUnitCount>=0){var o=i.holdingUnitCount>=a?a:a-i.holdingUnitCount;r[c]=Object(x.a)(Object(x.a)({},r[c]),{},{symbols:Object(x.a)(Object(x.a)({},r[c].symbols),{},Object(V.a)({},t,Object(x.a)(Object(x.a)({},i),{},{holdingUnitCount:i.holdingUnitCount-o,sells:i.sells.concat({orderId:e.orderID,unitPrice:e.fillPx,unitQuantity:o,totalPrice:e.tranAmount,date:e.tranWhen})})))}),a-=o}c++}a>0&&n.push(Object(x.a)(Object(x.a)({},e),{},{fillQty:a}))}})),[r,n]}function se(e){return e.map((function(e){if(!e)return null;var t=0,r=0,n=Object.keys(e.symbols).reduce((function(n,a){var c=e.symbols[a],s=0;c.sells.sort(re),c.buys.sort(re);var i=c.sells.reduce((function(e,t){return s+=t.unitQuantity,e+t.unitQuantity*t.unitPrice}),0),o=c.buys.reduce((function(e,t){if(s>0){var r=t.unitQuantity>s?s:t.unitQuantity;return s-=r,e+r*t.unitPrice}return e}),0),l=i-o,u=0===l?0:Math.abs(l)/o*100*(l<0?-1:1);return t+=o,r+=i,n[a]=Object(x.a)(Object(x.a)({},c),{},{profitRaw:l,profitPercent:u,spent:o,earned:i}),n}),{}),a=r-t,c=0===a?0:Math.abs(a)/t*100*(a<0?-1:1);return Object(x.a)(Object(x.a)({},e),{},{symbols:n,profitRaw:a,profitPercent:c,spent:t,earned:r})}))}function ie(e,t){var r=e>=0;return["".concat(r?"+":"-","$").concat(Math.abs(e).toPrecision(3)),"".concat(r?"+":"-").concat(Math.abs(t).toPrecision(3),"%")]}var oe=function(e){var t=e.user,r=window.localStorage.getItem("journalData"),a=D(),c=(a.loading,a.setLoading),s=a.error,i=a.setError,o=Object(n.useState)(!1),l=Object(f.a)(o,2),j=l[0],b=l[1],m=Object(n.useState)(r?JSON.parse(r):[]),h=Object(f.a)(m,2),x=h[0],O=h[1],p=Object(n.useState)(!1),v=Object(f.a)(p,2),g=v[0],w=v[1],S=Object(n.useState)(0),k=Object(f.a)(S,2),P=k[0],I=k[1],E=Object(n.useMemo)((function(){var e=x.reduce((function(e,t){if(!t)return e;var r=Y.DateTime.fromISO(t.date),n=r.startOf("month"),a=r.startOf("week"),c=e.find((function(e){return e.date.equals(n)}));c||(c={date:n,profitRaw:0,profitPercent:0,spent:0,earned:0,weekLogs:[]},e.push(c));var s=c.weekLogs.find((function(e){return e.date.equals(a)}));if(!s){for(var i=1,o=n.endOf("week");a>o;)i++,o=o.plus({week:1});s={date:a,weekOfMonth:i,profitRaw:0,profitPercent:0,spent:0,earned:0,dayLogs:[]},c.weekLogs.push(s)}return c.spent+=t.spent,c.earned+=t.earned,c.profitRaw=c.earned-c.spent,c.profitPercent=0===c.profitRaw?0:Math.abs(c.profitRaw)/c.spent*100*(c.profitRaw<0?-1:1),s.spent+=t.spent,s.earned+=t.earned,s.profitRaw=s.earned-s.spent,s.profitPercent=0===s.profitRaw?0:Math.abs(s.profitRaw)/s.spent*100*(s.profitRaw<0?-1:1),s.dayLogs.push(t),e}),[]);return e.forEach((function(e){e.weekLogs.forEach((function(e){e.dayLogs.reverse()})),e.weekLogs.reverse()})),e.reverse(),e}),[x]);return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var r,n,a,s,o,l,d,j,b,m,h,p,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.localStorage.getItem("journalLastFetchDate"),n=r?Y.DateTime.fromISO(r):Y.DateTime.local().startOf("year"),a=Y.DateTime.local(),s=100,o=0,l=!0,d=x.slice(),j=[],b=[],m=[],c(!0),e.prev=11;case 12:return e.next=14,q(t,n,a,s,o,!0);case 14:h=e.sent,o+=s,b=b.concat(h.filter((function(e){return"SPUR"===e.finTranTypeID}))),m=m.concat(h.filter((function(e){return"SSAL"===e.finTranTypeID}))),h.length<s&&(l=!1);case 19:if(l){e.next=12;break}case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),i({title:"Fetching trades failed",message:e.t0.message});case 25:b.sort(te),m.sort(te),d=ae(n,d,b),p=ce(d,m),v=Object(f.a)(p,2),d=v[0],j=v[1],d=se(d),window.localStorage.setItem("journalData",JSON.stringify(d)),window.localStorage.setItem("journalLastFetchDate",a.toISO()),O(d),I(j.length),w(j.length>0),c(!1);case 39:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(){return e.apply(this,arguments)}}();j||(b(!0),e())}),[j,x]),Object(y.jsxs)("div",{className:"w-full",children:[Object(y.jsxs)("header",{className:"px-4 py-2 w-full flex items-center",children:[Object(y.jsx)(_,{children:"".concat(t.firstName,"'s trade journal")}),Object(y.jsx)(T,{className:"ml-2"}),Object(y.jsx)(Z,{className:"ml-auto",to:"/logout",children:"Log out"})]}),Object(y.jsxs)("main",{className:"mt-8 p-4 flex flex-col items-center",children:[Object(y.jsx)("div",{style:{width:400},children:s()}),g&&Object(y.jsx)("div",{style:{width:400},children:Object(y.jsx)(N,{message:"Found ".concat(P," unmatched sell transactions"),dismissable:!0,onDismiss:function(){return w(!1)}})}),Object(y.jsx)("div",{style:{width:1e3},children:E.map((function(e){var t=e.profitRaw,r=t>=0,n=ie(t,e.profitPercent),a=Object(f.a)(n,2),c=a[0],s=a[1],i=0!==e.earned;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)(_,{children:e.date.toFormat("MMMM yyyy")}),i&&Object(y.jsx)("span",{className:"ml-auto text-2xl text-center ".concat(r?"text-green-500":"text-red-500"),style:{width:ee},children:c}),i&&Object(y.jsx)("span",{className:"text-2xl text-center ".concat(r?"text-green-500":"text-red-500"),style:{width:ee},children:s})]}),e.weekLogs.map((function(e,t){var r=e.profitRaw,n=r>=0,a=ie(r,e.profitPercent),c=Object(f.a)(a,2),s=c[0],i=c[1],o=0!==e.earned;return Object(y.jsxs)("div",{className:"".concat(0===t?"mt-4":"mt-16"),children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)(G,{children:"Week ".concat(e.weekOfMonth)}),o&&Object(y.jsx)("span",{className:"ml-auto text-xl text-center ".concat(n?"text-green-500":"text-red-500"),style:{width:ee},children:s}),o&&Object(y.jsx)("span",{className:"text-xl text-center ".concat(n?"text-green-500":"text-red-500"),style:{width:ee},children:i})]}),e.dayLogs.map((function(e){if(!e)return null;var t=Y.DateTime.fromISO(e.date),r=e.profitRaw,n=r>=0,a=ie(r,e.profitPercent),c=Object(f.a)(a,2),s=c[0],i=c[1],o=0!==e.earned,l=Object.values(e.symbols);return l.sort(ne),Object(y.jsxs)("div",{className:"mt-4 p-2 border border-gray-100 shadow rounded-lg",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)(X,{children:t.toFormat("EEEE")}),Object(y.jsx)("span",{className:"ml-auto text-gray-300",children:t.toFormat("dd/MM")})]}),Object(y.jsxs)("div",{className:"my-3 flex items-center",children:[Object(y.jsx)("div",{className:"text-center text-gray-300",style:{width:ee},children:"Code"}),Object(y.jsx)("div",{className:"text-center text-gray-300",style:{width:ee},children:"Buy"}),Object(y.jsx)("div",{className:"text-center text-gray-300",style:{width:ee},children:"Sell"}),Object(y.jsx)("div",{className:"text-center text-gray-300",style:{width:ee},children:"Holding"}),Object(y.jsx)("div",{className:"ml-auto text-center text-gray-300",style:{width:ee},children:"Return ($)"}),Object(y.jsx)("div",{className:"text-center text-gray-300",style:{width:ee},children:"Return (%)"})]}),l.map((function(e){var t=e.holdingUnitCount>0,r=e.sells.length>0,n=e.profitRaw,a=n>=0,c=ie(n,e.profitPercent),s=Object(f.a)(c,2),i=s[0],o=s[1];return Object(y.jsxs)("div",{className:"my-3 flex items-center",children:[Object(y.jsx)("div",{className:"text-center",style:{width:ee},children:e.instrument.symbol}),Object(y.jsx)("div",{className:"flex flex-col",style:{width:ee},children:e.buys.map((function(e,t){return Object(y.jsx)("div",{className:"text-center",children:"".concat(e.unitQuantity," @ $").concat(e.unitPrice.toPrecision(4))},t)}))}),Object(y.jsx)("div",{className:"flex flex-col",style:{width:ee},children:e.sells.map((function(e,t){return Object(y.jsx)("div",{className:"text-center",children:"".concat(e.unitQuantity," @ $").concat(e.unitPrice.toPrecision(4))},t)}))}),Object(y.jsx)("div",{className:"text-center text-yellow-500",style:{width:ee},children:t?"".concat(e.holdingUnitCount):""}),r&&Object(y.jsx)("div",{className:"ml-auto text-center ".concat(a?"text-green-500":"text-red-500"),style:{width:ee},children:i}),r&&Object(y.jsx)("div",{className:"text-center ".concat(a?"text-green-500":"text-red-500"),style:{width:ee},children:o})]},e.instrument.symbol)})),o&&Object(y.jsxs)("div",{className:"py-3 flex items-center border-t border-gray-200",children:[Object(y.jsx)("span",{className:"ml-auto text-lg text-center ".concat(n?"text-green-500":"text-red-500"),style:{width:ee},children:s}),Object(y.jsx)("span",{className:"text-lg text-center ".concat(n?"text-green-500":"text-red-500"),style:{width:ee},children:i})]})]},e.date)}))]},e.date.toISO())}))]},e.date.toISO())}))})]})]})},le=Object(o.i)((function(){var e=Object(o.h)(),t=function(){var e=window.localStorage.getItem("user");return e?JSON.parse(e):null}(),r=[Object(y.jsx)(o.b,{path:"/login",exact:!0,component:z},"/login"),Object(y.jsx)(o.a,{to:"/login"},"redirect/login")],n=[Object(y.jsx)(o.b,{path:"/journal",exact:!0,children:Object(y.jsx)(oe,{user:t})},"/journal"),Object(y.jsx)(o.b,{path:"/logout",exact:!0,children:Object(y.jsx)(H,{user:t})},"/logout"),Object(y.jsx)(o.a,{to:"/journal"},"redirect/journal")];return Object(y.jsx)(o.d,{location:e,children:t?n:r})}));s.a.render(Object(y.jsx)(i.a,{children:Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(le,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c77361a1.chunk.js.map